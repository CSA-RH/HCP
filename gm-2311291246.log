 Installing ROSA HCP cluster gm-2311291246 in a Single-AZ ...
{
    "UserId": "AIDA3QEFFFQ4Z3QKALHXF",
    "Account": "790553242681",
    "Arn": "arn:aws:iam::790553242681:user/gmollo@redhat.com-797bt-admin"
}
{
    "Role": {
        "Path": "/aws-service-role/elasticloadbalancing.amazonaws.com/",
        "RoleName": "AWSServiceRoleForElasticLoadBalancing",
        "RoleId": "AROA3QEFFFQ4QJ74ZH5XV",
        "Arn": "arn:aws:iam::790553242681:role/aws-service-role/elasticloadbalancing.amazonaws.com/AWSServiceRoleForElasticLoadBalancing",
        "CreateDate": "2019-10-14T23:49:34+00:00",
        "AssumeRolePolicyDocument": {
            "Version": "2012-10-17",
            "Statement": [
                {
                    "Effect": "Allow",
                    "Principal": {
                        "Service": "elasticloadbalancing.amazonaws.com"
                    },
                    "Action": "sts:AssumeRole"
                }
            ]
        },
        "Description": "Allows ELB to call AWS services on your behalf.",
        "MaxSessionDuration": 3600,
        "RoleLastUsed": {
            "LastUsedDate": "2023-11-28T22:46:42+00:00",
            "Region": "us-east-2"
        }
    }
}
INFO: Validating AWS credentials...
INFO: AWS credentials are valid!
INFO: Verifying permissions for non-STS clusters
INFO: Validating SCP policies...
INFO: AWS SCP policies ok
INFO: Ensuring cluster administrator user 'osdCcsAdmin'...
INFO: Admin user 'osdCcsAdmin' created successfully!
INFO: Validating SCP policies for 'osdCcsAdmin'...
INFO: AWS SCP policies ok
INFO: Validating cluster creation...
INFO: Cluster creation valid
#
rosa init ... done! going to create the VPC ...
Creating the VPC
VPC_ID_VALUE  vpc-068db72defcd49af4
{
    "AssociationId": "rtbassoc-0ecc004a73f71242a",
    "AssociationState": {
        "State": "associated"
    }
}
Waiting for NAT GW to warm up (2min)
{
    "AssociationId": "rtbassoc-0f8247cab647a8cd5",
    "AssociationState": {
        "State": "associated"
    }
}
#
VPC creation ... done! going to create account and operator roles, then your HCP Cluster ...
INFO: Creating hosted CP account roles using 'arn:aws:iam::790553242681:user/gmollo@redhat.com-797bt-admin'
INFO: Created role 'ManagedOpenShift-HCP-ROSA-Worker-Role' with ARN 'arn:aws:iam::790553242681:role/ManagedOpenShift-HCP-ROSA-Worker-Role'
INFO: Created role 'ManagedOpenShift-HCP-ROSA-Installer-Role' with ARN 'arn:aws:iam::790553242681:role/ManagedOpenShift-HCP-ROSA-Installer-Role'
INFO: Created role 'ManagedOpenShift-HCP-ROSA-Support-Role' with ARN 'arn:aws:iam::790553242681:role/ManagedOpenShift-HCP-ROSA-Support-Role'
OIDC_ID  27qdf2ovkcbfn29c9n4gp6j3theh85er
INFO: Creating roles using 'arn:aws:iam::790553242681:user/gmollo@redhat.com-797bt-admin'
INFO: Created role 'ManagedOpenShift-kube-system-kms-provider' with ARN 'arn:aws:iam::790553242681:role/ManagedOpenShift-kube-system-kms-provider'
INFO: Created role 'ManagedOpenShift-kube-system-kube-controller-manager' with ARN 'arn:aws:iam::790553242681:role/ManagedOpenShift-kube-system-kube-controller-manager'
INFO: Created role 'ManagedOpenShift-openshift-cloud-network-config-controller-cloud' with ARN 'arn:aws:iam::790553242681:role/ManagedOpenShift-openshift-cloud-network-config-controller-cloud'
INFO: Created role 'ManagedOpenShift-openshift-image-registry-installer-cloud-creden' with ARN 'arn:aws:iam::790553242681:role/ManagedOpenShift-openshift-image-registry-installer-cloud-creden'
INFO: Created role 'ManagedOpenShift-openshift-ingress-operator-cloud-credentials' with ARN 'arn:aws:iam::790553242681:role/ManagedOpenShift-openshift-ingress-operator-cloud-credentials'
INFO: Created role 'ManagedOpenShift-openshift-cluster-csi-drivers-ebs-cloud-credent' with ARN 'arn:aws:iam::790553242681:role/ManagedOpenShift-openshift-cluster-csi-drivers-ebs-cloud-credent'
INFO: Created role 'ManagedOpenShift-kube-system-capa-controller-manager' with ARN 'arn:aws:iam::790553242681:role/ManagedOpenShift-kube-system-capa-controller-manager'
INFO: Created role 'ManagedOpenShift-kube-system-control-plane-operator' with ARN 'arn:aws:iam::790553242681:role/ManagedOpenShift-kube-system-control-plane-operator'
INFO: Creating cluster 'gm-2311291246'
INFO: To view a list of clusters and their status, run 'rosa list clusters'
INFO: Cluster 'gm-2311291246' has been created.
INFO: Once the cluster is installed you will need to add an Identity Provider before you can login into the cluster. See 'rosa create idp --help' for more information.

Name:                       gm-2311291246
ID:                         27qdf8g75sbuf7bmog6npvpvm7dnsmk7
External ID:                963b9572-9c21-4ba9-998f-bf0c6db8097a
Control Plane:              ROSA Service Hosted
OpenShift Version:          4.14.3
Channel Group:              stable
DNS:                        Not ready
AWS Account:                790553242681
API URL:                    
Console URL:                
Region:                     us-east-2
Availability:
 - Control Plane:           MultiAZ
 - Data Plane:              SingleAZ
Nodes:
 - Compute (desired):       2
 - Compute (current):       0
Network:
 - Type:                    OVNKubernetes
 - Service CIDR:            172.30.0.0/16
 - Machine CIDR:            10.0.0.0/16
 - Pod CIDR:                10.128.0.0/14
 - Host Prefix:             /23
Workload Monitoring:        Enabled
Ec2 Metadata Http Tokens:   optional
STS Role ARN:               arn:aws:iam::790553242681:role/ManagedOpenShift-HCP-ROSA-Installer-Role
Support Role ARN:           arn:aws:iam::790553242681:role/ManagedOpenShift-HCP-ROSA-Support-Role
Instance IAM Roles:
 - Worker:                  arn:aws:iam::790553242681:role/ManagedOpenShift-HCP-ROSA-Worker-Role
Operator IAM Roles:
 - arn:aws:iam::790553242681:role/ManagedOpenShift-kube-system-kube-controller-manager
 - arn:aws:iam::790553242681:role/ManagedOpenShift-kube-system-capa-controller-manager
 - arn:aws:iam::790553242681:role/ManagedOpenShift-kube-system-control-plane-operator
 - arn:aws:iam::790553242681:role/ManagedOpenShift-kube-system-kms-provider
 - arn:aws:iam::790553242681:role/ManagedOpenShift-openshift-image-registry-installer-cloud-creden
 - arn:aws:iam::790553242681:role/ManagedOpenShift-openshift-ingress-operator-cloud-credentials
 - arn:aws:iam::790553242681:role/ManagedOpenShift-openshift-cluster-csi-drivers-ebs-cloud-credent
 - arn:aws:iam::790553242681:role/ManagedOpenShift-openshift-cloud-network-config-controller-cloud
Managed Policies:           Yes
State:                      waiting (Waiting for user action)
Private:                    No
Created:                    Nov 29 2023 11:51:02 UTC
Details Page:               https://console.redhat.com/openshift/details/s/2YqgjwDLvq4aVq6vD6M94qQFiZP
OIDC Endpoint URL:          https://rh-oidc.s3.us-east-1.amazonaws.com/27qdf2ovkcbfn29c9n4gp6j3theh85er (Managed)
Audit Log Forwarding:       disabled

INFO: Preparing to create operator roles.
INFO: Cluster 'gm-2311291246' is using reusable OIDC Config and operator roles already exist.
INFO: Preparing to create OIDC Provider.
INFO: Creating OIDC provider using 'arn:aws:iam::790553242681:user/gmollo@redhat.com-797bt-admin'
INFO: Created OIDC provider with ARN 'arn:aws:iam::790553242681:oidc-provider/rh-oidc.s3.us-east-1.amazonaws.com/27qdf2ovkcbfn29c9n4gp6j3theh85er'
INFO: To determine when your cluster is Ready, run 'rosa describe cluster -c gm-2311291246'.
INFO: To watch your cluster installation logs, run 'rosa logs install -c gm-2311291246 --watch'.
INFO: Cluster 'gm-2311291246' is in waiting state waiting for installation to begin. Logs will show up within 5 minutes
0001-01-01 00:00:00 +0000 UTC hostedclusters gm-2311291246 Version 
2023-11-29 11:53:38 +0000 UTC hostedclusters gm-2311291246 failed to get clusterVersion: HostedControlPlane.hypershift.openshift.io "gm-2311291246" not found
2023-11-29 11:53:38 +0000 UTC hostedclusters gm-2311291246 The hosted control plane is not found
2023-11-29 11:53:38 +0000 UTC hostedclusters gm-2311291246 failed to get clusterVersion: HostedControlPlane.hypershift.openshift.io "gm-2311291246" not found
2023-11-29 11:53:38 +0000 UTC hostedclusters gm-2311291246 failed to get clusterVersion: HostedControlPlane.hypershift.openshift.io "gm-2311291246" not found
2023-11-29 11:53:38 +0000 UTC hostedclusters gm-2311291246 failed to get clusterVersion: HostedControlPlane.hypershift.openshift.io "gm-2311291246" not found
2023-11-29 11:53:38 +0000 UTC hostedclusters gm-2311291246 The hosted control plane is not found
2023-11-29 11:53:38 +0000 UTC hostedclusters gm-2311291246 The hosted control plane is not found
2023-11-29 11:53:38 +0000 UTC hostedclusters gm-2311291246 The hosted control plane is not found
2023-11-29 11:53:38 +0000 UTC hostedclusters gm-2311291246 failed to get clusterVersion: HostedControlPlane.hypershift.openshift.io "gm-2311291246" not found
2023-11-29 11:53:38 +0000 UTC hostedclusters gm-2311291246 Waiting for hosted control plane to be healthy
2023-11-29 11:53:38 +0000 UTC hostedclusters gm-2311291246 The hosted control plane is not found
2023-11-29 11:53:38 +0000 UTC hostedclusters gm-2311291246 The hosted control plane is not found
2023-11-29 11:53:38 +0000 UTC hostedclusters gm-2311291246 The hosted control plane is not found
2023-11-29 11:53:38 +0000 UTC hostedclusters gm-2311291246 Ignition server deployment not found
2023-11-29 11:53:38 +0000 UTC hostedclusters gm-2311291246 Configuration passes validation
2023-11-29 11:53:38 +0000 UTC hostedclusters gm-2311291246 HostedCluster is supported by operator configuration
2023-11-29 11:53:38 +0000 UTC hostedclusters gm-2311291246 Release image is valid
2023-11-29 11:53:38 +0000 UTC hostedclusters gm-2311291246 ValidAWSIdentityProvider StatusUnknown
2023-11-29 11:53:38 +0000 UTC hostedclusters gm-2311291246 Reconciliation active on resource
2023-11-29 11:53:38 +0000 UTC hostedclusters gm-2311291246 HostedCluster is at expected version
2023-11-29 11:53:40 +0000 UTC hostedclusters gm-2311291246 failed to get referenced secret ocm-production-27qdf8g75sbuf7bmog6npvpvm7dnsmk7/cluster-api-cert: Secret "cluster-api-cert" not found
0001-01-01 00:00:00 +0000 UTC hostedclusters gm-2311291246 Version 
2023-11-29 11:53:38 +0000 UTC hostedclusters gm-2311291246 Release image is valid
2023-11-29 11:53:38 +0000 UTC hostedclusters gm-2311291246 Condition not found in the CVO.
2023-11-29 11:53:38 +0000 UTC hostedclusters gm-2311291246 Condition not found in the CVO.
2023-11-29 11:53:38 +0000 UTC hostedclusters gm-2311291246 Condition not found in the CVO.
2023-11-29 11:53:38 +0000 UTC hostedclusters gm-2311291246 Reconciliation active on resource
2023-11-29 11:53:38 +0000 UTC hostedclusters gm-2311291246 Waiting for hosted control plane kubeconfig to be created
2023-11-29 11:53:38 +0000 UTC hostedclusters gm-2311291246 HostedCluster is supported by operator configuration
2023-11-29 11:53:38 +0000 UTC hostedclusters gm-2311291246 Configuration passes validation
2023-11-29 11:53:38 +0000 UTC hostedclusters gm-2311291246 Condition not found in the CVO.
2023-11-29 11:53:38 +0000 UTC hostedclusters gm-2311291246 Condition not found in the CVO.
2023-11-29 11:53:38 +0000 UTC hostedclusters gm-2311291246 Ignition server deployment not found
2023-11-29 11:53:38 +0000 UTC hostedclusters gm-2311291246 HostedCluster is at expected version
2023-11-29 11:55:23 +0000 UTC hostedclusters gm-2311291246 OIDC configuration is valid
2023-11-29 11:55:24 +0000 UTC hostedclusters gm-2311291246 Reconciliation completed succesfully
2023-11-29 11:55:29 +0000 UTC hostedclusters gm-2311291246 All is well
2023-11-29 11:55:29 +0000 UTC hostedclusters gm-2311291246 lookup api.gm-2311291246.ps3x.p3.openshiftapps.com on 172.30.0.10:53: no such host
2023-11-29 11:55:29 +0000 UTC hostedclusters gm-2311291246 [capi-provider deployment has 1 unavailable replicas, cluster-api deployment has 1 unavailable replicas, control-plane-operator deployment has 1 unavailable replicas]
2023-11-29 11:55:29 +0000 UTC hostedclusters gm-2311291246 Configuration passes validation
2023-11-29 11:55:29 +0000 UTC hostedclusters gm-2311291246 WebIdentityErr
2023-11-29 11:55:29 +0000 UTC hostedclusters gm-2311291246 AWS KMS is not configured
2023-11-29 11:55:29 +0000 UTC hostedclusters gm-2311291246 Waiting for etcd to reach quorum
2023-11-29 11:55:29 +0000 UTC hostedclusters gm-2311291246 Kube APIServer deployment not found
2023-11-29 11:55:37 +0000 UTC hostedclusters gm-2311291246 All is well
2023-11-29 11:56:28 +0000 UTC hostedclusters gm-2311291246 EtcdAvailable QuorumAvailable
2023-11-29 11:57:37 +0000 UTC hostedclusters gm-2311291246 Kube APIServer deployment is available
2023-11-29 11:57:45 +0000 UTC hostedclusters gm-2311291246 All is well
2023-11-29 11:58:42 +0000 UTC hostedclusters gm-2311291246 All is well
2023-11-29 11:58:43 +0000 UTC hostedclusters gm-2311291246 [cluster-autoscaler deployment has 1 unavailable replicas, cluster-image-registry-operator deployment has 1 unavailable replicas, cluster-network-operator deployment has 1 unavailable replicas, cluster-storage-operator deployment has 1 unavailable replicas, dns-operator deployment has 1 unavailable replicas, hosted-cluster-config-operator deployment has 1 unavailable replicas, ignition-server deployment has 3 unavailable replicas, ingress-operator deployment has 1 unavailable replicas, machine-approver deployment has 1 unavailable replicas, oauth-openshift deployment has 2 unavailable replicas, olm-operator deployment has 1 unavailable replicas, packageserver deployment has 3 unavailable replicas, router deployment has 1 unavailable replicas]
2023-11-29 11:58:46 +0000 UTC hostedclusters gm-2311291246 The hosted control plane is available
INFO: Cluster 'gm-2311291246' is now ready
INFO: Admin account has been added to cluster 'gm-2311291246'.
INFO: Please securely store this generated password. If you lose this password you can delete and recreate the cluster admin user.
INFO: To login, run the following command:

   oc login https://api.gm-2311291246.ps3x.p3.openshiftapps.com:443 --username cluster-admin --password anuxS-ESpCY-VrxBK-MKrep

INFO: It may take several minutes for this access to become active.

Name:                       gm-2311291246
ID:                         27qdf8g75sbuf7bmog6npvpvm7dnsmk7
External ID:                963b9572-9c21-4ba9-998f-bf0c6db8097a
Control Plane:              ROSA Service Hosted
OpenShift Version:          4.14.3
Channel Group:              stable
DNS:                        gm-2311291246.ps3x.p3.openshiftapps.com
AWS Account:                790553242681
API URL:                    https://api.gm-2311291246.ps3x.p3.openshiftapps.com:443
Console URL:                
Region:                     us-east-2
Availability:
 - Control Plane:           MultiAZ
 - Data Plane:              SingleAZ
Nodes:
 - Compute (desired):       2
 - Compute (current):       0
Network:
 - Type:                    OVNKubernetes
 - Service CIDR:            172.30.0.0/16
 - Machine CIDR:            10.0.0.0/16
 - Pod CIDR:                10.128.0.0/14
 - Host Prefix:             /23
Workload Monitoring:        Enabled
Ec2 Metadata Http Tokens:   optional
STS Role ARN:               arn:aws:iam::790553242681:role/ManagedOpenShift-HCP-ROSA-Installer-Role
Support Role ARN:           arn:aws:iam::790553242681:role/ManagedOpenShift-HCP-ROSA-Support-Role
Instance IAM Roles:
 - Worker:                  arn:aws:iam::790553242681:role/ManagedOpenShift-HCP-ROSA-Worker-Role
Operator IAM Roles:
 - arn:aws:iam::790553242681:role/ManagedOpenShift-kube-system-kube-controller-manager
 - arn:aws:iam::790553242681:role/ManagedOpenShift-kube-system-capa-controller-manager
 - arn:aws:iam::790553242681:role/ManagedOpenShift-kube-system-control-plane-operator
 - arn:aws:iam::790553242681:role/ManagedOpenShift-kube-system-kms-provider
 - arn:aws:iam::790553242681:role/ManagedOpenShift-openshift-image-registry-installer-cloud-creden
 - arn:aws:iam::790553242681:role/ManagedOpenShift-openshift-ingress-operator-cloud-credentials
 - arn:aws:iam::790553242681:role/ManagedOpenShift-openshift-cluster-csi-drivers-ebs-cloud-credent
 - arn:aws:iam::790553242681:role/ManagedOpenShift-openshift-cloud-network-config-controller-cloud
Managed Policies:           Yes
State:                      ready 
Private:                    No
Created:                    Nov 29 2023 11:51:02 UTC
Details Page:               https://console.redhat.com/openshift/details/s/2YqgjwDLvq4aVq6vD6M94qQFiZP
OIDC Endpoint URL:          https://rh-oidc.s3.us-east-1.amazonaws.com/27qdf2ovkcbfn29c9n4gp6j3theh85er (Managed)
Audit Log Forwarding:       disabled

#
... done! 
 Please check the /home/gmollo/tools/cluster/svil/aws-rosa-cluster-with-hosted-control-planes/gm-2311291246.log LOG file for useful information 
 
 
 
