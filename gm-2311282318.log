 Installing ROSA HCP cluster gm-2311282318 in a Single-AZ (Private) ...
{
    "UserId": "AIDA3QEFFFQ4Z3QKALHXF",
    "Account": "790553242681",
    "Arn": "arn:aws:iam::790553242681:user/gmollo@redhat.com-797bt-admin"
}
{
    "Role": {
        "Path": "/aws-service-role/elasticloadbalancing.amazonaws.com/",
        "RoleName": "AWSServiceRoleForElasticLoadBalancing",
        "RoleId": "AROA3QEFFFQ4QJ74ZH5XV",
        "Arn": "arn:aws:iam::790553242681:role/aws-service-role/elasticloadbalancing.amazonaws.com/AWSServiceRoleForElasticLoadBalancing",
        "CreateDate": "2019-10-14T23:49:34+00:00",
        "AssumeRolePolicyDocument": {
            "Version": "2012-10-17",
            "Statement": [
                {
                    "Effect": "Allow",
                    "Principal": {
                        "Service": "elasticloadbalancing.amazonaws.com"
                    },
                    "Action": "sts:AssumeRole"
                }
            ]
        },
        "Description": "Allows ELB to call AWS services on your behalf.",
        "MaxSessionDuration": 3600,
        "RoleLastUsed": {
            "LastUsedDate": "2023-11-27T15:17:17+00:00",
            "Region": "us-east-2"
        }
    }
}
INFO: Validating AWS credentials...
INFO: AWS credentials are valid!
INFO: Verifying permissions for non-STS clusters
INFO: Validating SCP policies...
INFO: AWS SCP policies ok
INFO: Ensuring cluster administrator user 'osdCcsAdmin'...
INFO: Admin user 'osdCcsAdmin' created successfully!
INFO: Validating SCP policies for 'osdCcsAdmin'...
INFO: AWS SCP policies ok
INFO: Validating cluster creation...
INFO: Cluster creation valid
#
rosa init ... done! going to create the VPC ...
Creating the VPC
VPC_ID_VALUE  vpc-0de3d19d151feecec
Creating the Private Subnet:  subnet-040f282ec1d013973
#
VPC creation ... done! going to create account and operator roles, then your HCP Cluster ...
INFO: Creating hosted CP account roles using 'arn:aws:iam::790553242681:user/gmollo@redhat.com-797bt-admin'
INFO: Created role 'ManagedOpenShift-HCP-ROSA-Installer-Role' with ARN 'arn:aws:iam::790553242681:role/ManagedOpenShift-HCP-ROSA-Installer-Role'
INFO: Created role 'ManagedOpenShift-HCP-ROSA-Support-Role' with ARN 'arn:aws:iam::790553242681:role/ManagedOpenShift-HCP-ROSA-Support-Role'
INFO: Created role 'ManagedOpenShift-HCP-ROSA-Worker-Role' with ARN 'arn:aws:iam::790553242681:role/ManagedOpenShift-HCP-ROSA-Worker-Role'
OIDC_ID  27q1j7ode13vn8364sbq3tp6o0dmsjjh
INFO: Creating roles using 'arn:aws:iam::790553242681:user/gmollo@redhat.com-797bt-admin'
INFO: Created role 'ManagedOpenShift-openshift-cluster-csi-drivers-ebs-cloud-credent' with ARN 'arn:aws:iam::790553242681:role/ManagedOpenShift-openshift-cluster-csi-drivers-ebs-cloud-credent'
INFO: Created role 'ManagedOpenShift-openshift-cloud-network-config-controller-cloud' with ARN 'arn:aws:iam::790553242681:role/ManagedOpenShift-openshift-cloud-network-config-controller-cloud'
INFO: Created role 'ManagedOpenShift-openshift-image-registry-installer-cloud-creden' with ARN 'arn:aws:iam::790553242681:role/ManagedOpenShift-openshift-image-registry-installer-cloud-creden'
INFO: Created role 'ManagedOpenShift-openshift-ingress-operator-cloud-credentials' with ARN 'arn:aws:iam::790553242681:role/ManagedOpenShift-openshift-ingress-operator-cloud-credentials'
INFO: Created role 'ManagedOpenShift-kube-system-kube-controller-manager' with ARN 'arn:aws:iam::790553242681:role/ManagedOpenShift-kube-system-kube-controller-manager'
INFO: Created role 'ManagedOpenShift-kube-system-capa-controller-manager' with ARN 'arn:aws:iam::790553242681:role/ManagedOpenShift-kube-system-capa-controller-manager'
INFO: Created role 'ManagedOpenShift-kube-system-control-plane-operator' with ARN 'arn:aws:iam::790553242681:role/ManagedOpenShift-kube-system-control-plane-operator'
INFO: Created role 'ManagedOpenShift-kube-system-kms-provider' with ARN 'arn:aws:iam::790553242681:role/ManagedOpenShift-kube-system-kms-provider'
INFO: Creating cluster 'gm-2311282318'
INFO: To view a list of clusters and their status, run 'rosa list clusters'
INFO: Cluster 'gm-2311282318' has been created.
INFO: Once the cluster is installed you will need to add an Identity Provider before you can login into the cluster. See 'rosa create idp --help' for more information.

Name:                       gm-2311282318
ID:                         27q1jdv3imcokg3637ommm7gsbo2phd9
External ID:                672e8def-043f-4e82-935d-dd804f3e8bee
Control Plane:              ROSA Service Hosted
OpenShift Version:          4.14.3
Channel Group:              stable
DNS:                        Not ready
AWS Account:                790553242681
API URL:                    
Console URL:                
Region:                     us-east-2
Availability:
 - Control Plane:           MultiAZ
 - Data Plane:              SingleAZ
Nodes:
 - Compute (desired):       2
 - Compute (current):       0
Network:
 - Type:                    OVNKubernetes
 - Service CIDR:            172.30.0.0/16
 - Machine CIDR:            10.0.0.0/16
 - Pod CIDR:                10.128.0.0/14
 - Host Prefix:             /23
Workload Monitoring:        Enabled
Ec2 Metadata Http Tokens:   optional
STS Role ARN:               arn:aws:iam::790553242681:role/ManagedOpenShift-HCP-ROSA-Installer-Role
Support Role ARN:           arn:aws:iam::790553242681:role/ManagedOpenShift-HCP-ROSA-Support-Role
Instance IAM Roles:
 - Worker:                  arn:aws:iam::790553242681:role/ManagedOpenShift-HCP-ROSA-Worker-Role
Operator IAM Roles:
 - arn:aws:iam::790553242681:role/ManagedOpenShift-openshift-image-registry-installer-cloud-creden
 - arn:aws:iam::790553242681:role/ManagedOpenShift-openshift-ingress-operator-cloud-credentials
 - arn:aws:iam::790553242681:role/ManagedOpenShift-kube-system-control-plane-operator
 - arn:aws:iam::790553242681:role/ManagedOpenShift-kube-system-kms-provider
 - arn:aws:iam::790553242681:role/ManagedOpenShift-kube-system-kube-controller-manager
 - arn:aws:iam::790553242681:role/ManagedOpenShift-kube-system-capa-controller-manager
 - arn:aws:iam::790553242681:role/ManagedOpenShift-openshift-cluster-csi-drivers-ebs-cloud-credent
 - arn:aws:iam::790553242681:role/ManagedOpenShift-openshift-cloud-network-config-controller-cloud
Managed Policies:           Yes
State:                      waiting (Waiting for user action)
Private:                    Yes
Created:                    Nov 28 2023 22:20:43 UTC
Details Page:               https://console.redhat.com/openshift/details/s/2Yp6C3AzgaOdtb1xWnB1Vig1889
OIDC Endpoint URL:          https://rh-oidc.s3.us-east-1.amazonaws.com/27q1j7ode13vn8364sbq3tp6o0dmsjjh (Managed)
Audit Log Forwarding:       disabled

INFO: Preparing to create operator roles.
INFO: Cluster 'gm-2311282318' is using reusable OIDC Config and operator roles already exist.
INFO: Preparing to create OIDC Provider.
INFO: Creating OIDC provider using 'arn:aws:iam::790553242681:user/gmollo@redhat.com-797bt-admin'
INFO: Created OIDC provider with ARN 'arn:aws:iam::790553242681:oidc-provider/rh-oidc.s3.us-east-1.amazonaws.com/27q1j7ode13vn8364sbq3tp6o0dmsjjh'
INFO: To determine when your cluster is Ready, run 'rosa describe cluster -c gm-2311282318'.
INFO: To watch your cluster installation logs, run 'rosa logs install -c gm-2311282318 --watch'.
INFO: Cluster 'gm-2311282318' is in validating state waiting for installation to begin. Logs will show up within 5 minutes
0001-01-01 00:00:00 +0000 UTC hostedclusters gm-2311282318 Version 
2023-11-28 22:23:06 +0000 UTC hostedclusters gm-2311282318 ValidAWSIdentityProvider StatusUnknown
2023-11-28 22:23:07 +0000 UTC hostedclusters gm-2311282318 failed to get clusterVersion: HostedControlPlane.hypershift.openshift.io "gm-2311282318" not found
2023-11-28 22:23:07 +0000 UTC hostedclusters gm-2311282318 failed to get clusterVersion: HostedControlPlane.hypershift.openshift.io "gm-2311282318" not found
2023-11-28 22:23:07 +0000 UTC hostedclusters gm-2311282318 The hosted control plane is not found
2023-11-28 22:23:07 +0000 UTC hostedclusters gm-2311282318 The hosted control plane is not found
2023-11-28 22:23:07 +0000 UTC hostedclusters gm-2311282318 The hosted control plane is not found
2023-11-28 22:23:07 +0000 UTC hostedclusters gm-2311282318 The hosted control plane is not found
2023-11-28 22:23:07 +0000 UTC hostedclusters gm-2311282318 The hosted control plane is not found
2023-11-28 22:23:07 +0000 UTC hostedclusters gm-2311282318 failed to get clusterVersion: HostedControlPlane.hypershift.openshift.io "gm-2311282318" not found
2023-11-28 22:23:07 +0000 UTC hostedclusters gm-2311282318 Waiting for hosted control plane to be healthy
2023-11-28 22:23:07 +0000 UTC hostedclusters gm-2311282318 The hosted control plane is not found
2023-11-28 22:23:07 +0000 UTC hostedclusters gm-2311282318 failed to get clusterVersion: HostedControlPlane.hypershift.openshift.io "gm-2311282318" not found
2023-11-28 22:23:07 +0000 UTC hostedclusters gm-2311282318 failed to get clusterVersion: HostedControlPlane.hypershift.openshift.io "gm-2311282318" not found
2023-11-28 22:23:07 +0000 UTC hostedclusters gm-2311282318 Ignition server deployment not found
2023-11-28 22:23:07 +0000 UTC hostedclusters gm-2311282318 Configuration passes validation
2023-11-28 22:23:07 +0000 UTC hostedclusters gm-2311282318 HostedCluster is supported by operator configuration
2023-11-28 22:23:07 +0000 UTC hostedclusters gm-2311282318 Release image is valid
2023-11-28 22:23:07 +0000 UTC hostedclusters gm-2311282318 The hosted control plane is not found
2023-11-28 22:23:07 +0000 UTC hostedclusters gm-2311282318 Reconciliation active on resource
2023-11-28 22:23:07 +0000 UTC hostedclusters gm-2311282318 HostedCluster is at expected version
2023-11-28 22:23:08 +0000 UTC hostedclusters gm-2311282318 failed to get referenced secret ocm-production-27q1jdv3imcokg3637ommm7gsbo2phd9/cluster-api-cert: Secret "cluster-api-cert" not found
0001-01-01 00:00:00 +0000 UTC hostedclusters gm-2311282318 Version 
2023-11-28 22:23:07 +0000 UTC hostedclusters gm-2311282318 Release image is valid
2023-11-28 22:23:07 +0000 UTC hostedclusters gm-2311282318 HostedCluster is at expected version
2023-11-28 22:23:07 +0000 UTC hostedclusters gm-2311282318 Condition not found in the CVO.
2023-11-28 22:23:07 +0000 UTC hostedclusters gm-2311282318 Condition not found in the CVO.
2023-11-28 22:23:07 +0000 UTC hostedclusters gm-2311282318 Reconciliation active on resource
2023-11-28 22:23:07 +0000 UTC hostedclusters gm-2311282318 private-router load balancer is not provisioned; 4s since creation.; private-router load balancer is not provisioned; 4s since creation.
2023-11-28 22:23:07 +0000 UTC hostedclusters gm-2311282318 External DNS is not configured
2023-11-28 22:23:07 +0000 UTC hostedclusters gm-2311282318 HostedCluster is supported by operator configuration
2023-11-28 22:23:07 +0000 UTC hostedclusters gm-2311282318 Condition not found in the CVO.
2023-11-28 22:23:07 +0000 UTC hostedclusters gm-2311282318 Condition not found in the CVO.
2023-11-28 22:23:07 +0000 UTC hostedclusters gm-2311282318 Configuration passes validation
2023-11-28 22:23:07 +0000 UTC hostedclusters gm-2311282318 Ignition server deployment not found
2023-11-28 22:23:07 +0000 UTC hostedclusters gm-2311282318 Condition not found in the CVO.
2023-11-28 22:24:52 +0000 UTC hostedclusters gm-2311282318 OIDC configuration is valid
2023-11-28 22:24:53 +0000 UTC hostedclusters gm-2311282318 Reconciliation completed succesfully
2023-11-28 22:25:03 +0000 UTC hostedclusters gm-2311282318 WebIdentityErr
2023-11-28 22:25:04 +0000 UTC hostedclusters gm-2311282318 [capi-provider deployment has 1 unavailable replicas, cluster-api deployment has 1 unavailable replicas, control-plane-operator deployment has 1 unavailable replicas]
2023-11-28 22:25:04 +0000 UTC hostedclusters gm-2311282318 private-router load balancer is not provisioned; 4s since creation.; private-router load balancer is not provisioned; 4s since creation.
2023-11-28 22:25:04 +0000 UTC hostedclusters gm-2311282318 All is well
2023-11-28 22:25:04 +0000 UTC hostedclusters gm-2311282318 Configuration passes validation
2023-11-28 22:25:04 +0000 UTC hostedclusters gm-2311282318 AWS KMS is not configured
2023-11-28 22:25:04 +0000 UTC hostedclusters gm-2311282318 EtcdAvailable StatefulSetNotFound
2023-11-28 22:25:04 +0000 UTC hostedclusters gm-2311282318 Kube APIServer deployment not found
2023-11-28 22:25:08 +0000 UTC hostedclusters gm-2311282318 All is well
2023-11-28 22:26:03 +0000 UTC hostedclusters gm-2311282318 EtcdAvailable QuorumAvailable
2023-11-28 22:27:09 +0000 UTC hostedclusters gm-2311282318 Kube APIServer deployment is available
2023-11-28 22:27:10 +0000 UTC hostedclusters gm-2311282318 The hosted control plane is available
INFO: Cluster 'gm-2311282318' is now ready
INFO: Admin account has been added to cluster 'gm-2311282318'.
INFO: Please securely store this generated password. If you lose this password you can delete and recreate the cluster admin user.
INFO: To login, run the following command:

   oc login https://api.gm-2311282318.9zx4.p3.openshiftapps.com:443 --username cluster-admin --password 4AqZE-SqPyQ-Iypmr-Vmt7E

INFO: It may take several minutes for this access to become active.

Name:                       gm-2311282318
ID:                         27q1jdv3imcokg3637ommm7gsbo2phd9
External ID:                672e8def-043f-4e82-935d-dd804f3e8bee
Control Plane:              ROSA Service Hosted
OpenShift Version:          4.14.3
Channel Group:              stable
DNS:                        gm-2311282318.9zx4.p3.openshiftapps.com
AWS Account:                790553242681
API URL:                    https://api.gm-2311282318.9zx4.p3.openshiftapps.com:443
Console URL:                
Region:                     us-east-2
Availability:
 - Control Plane:           MultiAZ
 - Data Plane:              SingleAZ
Nodes:
 - Compute (desired):       2
 - Compute (current):       0
Network:
 - Type:                    OVNKubernetes
 - Service CIDR:            172.30.0.0/16
 - Machine CIDR:            10.0.0.0/16
 - Pod CIDR:                10.128.0.0/14
 - Host Prefix:             /23
Workload Monitoring:        Enabled
Ec2 Metadata Http Tokens:   optional
STS Role ARN:               arn:aws:iam::790553242681:role/ManagedOpenShift-HCP-ROSA-Installer-Role
Support Role ARN:           arn:aws:iam::790553242681:role/ManagedOpenShift-HCP-ROSA-Support-Role
Instance IAM Roles:
 - Worker:                  arn:aws:iam::790553242681:role/ManagedOpenShift-HCP-ROSA-Worker-Role
Operator IAM Roles:
 - arn:aws:iam::790553242681:role/ManagedOpenShift-openshift-image-registry-installer-cloud-creden
 - arn:aws:iam::790553242681:role/ManagedOpenShift-openshift-ingress-operator-cloud-credentials
 - arn:aws:iam::790553242681:role/ManagedOpenShift-kube-system-control-plane-operator
 - arn:aws:iam::790553242681:role/ManagedOpenShift-kube-system-kms-provider
 - arn:aws:iam::790553242681:role/ManagedOpenShift-kube-system-kube-controller-manager
 - arn:aws:iam::790553242681:role/ManagedOpenShift-kube-system-capa-controller-manager
 - arn:aws:iam::790553242681:role/ManagedOpenShift-openshift-cluster-csi-drivers-ebs-cloud-credent
 - arn:aws:iam::790553242681:role/ManagedOpenShift-openshift-cloud-network-config-controller-cloud
Managed Policies:           Yes
State:                      ready 
Private:                    Yes
Created:                    Nov 28 2023 22:20:43 UTC
Details Page:               https://console.redhat.com/openshift/details/s/2Yp6C3AzgaOdtb1xWnB1Vig1889
OIDC Endpoint URL:          https://rh-oidc.s3.us-east-1.amazonaws.com/27q1j7ode13vn8364sbq3tp6o0dmsjjh (Managed)
Audit Log Forwarding:       disabled

#
... done! 
 Please check the /home/gmollo/tools/cluster/svil/aws-rosa-cluster-with-hosted-control-planes/gm-2311282318.log LOG file for useful information 
 
 
 
