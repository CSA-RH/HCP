Start installing ROSA HCP cluster gm-2401231408 in a Single-AZ (Private) ...
{
    "UserId": "AIDAWTLTTXIA7XER7KFTI",
    "Account": "453898385921",
    "Arn": "arn:aws:iam::453898385921:user/open-environment-t2r78-admin"
}
{
    "Role": {
        "Path": "/aws-service-role/elasticloadbalancing.amazonaws.com/",
        "RoleName": "AWSServiceRoleForElasticLoadBalancing",
        "RoleId": "AROAJJU4BPWCDLW3UN5WM",
        "Arn": "arn:aws:iam::453898385921:role/aws-service-role/elasticloadbalancing.amazonaws.com/AWSServiceRoleForElasticLoadBalancing",
        "CreateDate": "2019-03-13T14:56:16+00:00",
        "AssumeRolePolicyDocument": {
            "Version": "2012-10-17",
            "Statement": [
                {
                    "Effect": "Allow",
                    "Principal": {
                        "Service": "elasticloadbalancing.amazonaws.com"
                    },
                    "Action": "sts:AssumeRole"
                }
            ]
        },
        "Description": "Allows ELB to call AWS services on your behalf.",
        "MaxSessionDuration": 3600,
        "RoleLastUsed": {
            "LastUsedDate": "2024-01-19T15:37:35+00:00",
            "Region": "us-east-2"
        }
    }
}
#
Creating the VPC  vpc-00f7ae919d9d089e3
VPC_ID_VALUE  vpc-00f7ae919d9d089e3
Creating the Private Subnet:  subnet-0782ef5a5e376375e
Creating the Private Route Table:  rtb-0a28e5fdcd1368c1e
{
    "AssociationId": "rtbassoc-0bb8f3480732d19ce",
    "AssociationState": {
        "State": "associated"
    }
}
#
VPC creation ... done! 
#
Going to create account and operator roles ...
INFO: Creating hosted CP account roles using 'arn:aws:iam::453898385921:user/open-environment-t2r78-admin'
INFO: Created role 'gm-2401231408-HCP-ROSA-Installer-Role' with ARN 'arn:aws:iam::453898385921:role/gm-2401231408-HCP-ROSA-Installer-Role'
INFO: Created role 'gm-2401231408-HCP-ROSA-Support-Role' with ARN 'arn:aws:iam::453898385921:role/gm-2401231408-HCP-ROSA-Support-Role'
INFO: Created role 'gm-2401231408-HCP-ROSA-Worker-Role' with ARN 'arn:aws:iam::453898385921:role/gm-2401231408-HCP-ROSA-Worker-Role'
Creating the OIDC config 28umpf9dfhfkq1bl5mbtp6e5j6unh13k
OIDC_ID  28umpf9dfhfkq1bl5mbtp6e5j6unh13k
Creating operator-roles
INFO: Creating roles using 'arn:aws:iam::453898385921:user/open-environment-t2r78-admin'
INFO: Created role 'gm-2401231408-openshift-cloud-network-config-controller-cloud-cr' with ARN 'arn:aws:iam::453898385921:role/gm-2401231408-openshift-cloud-network-config-controller-cloud-cr'
INFO: Created role 'gm-2401231408-kube-system-capa-controller-manager' with ARN 'arn:aws:iam::453898385921:role/gm-2401231408-kube-system-capa-controller-manager'
INFO: Created role 'gm-2401231408-kube-system-control-plane-operator' with ARN 'arn:aws:iam::453898385921:role/gm-2401231408-kube-system-control-plane-operator'
INFO: Created role 'gm-2401231408-kube-system-kms-provider' with ARN 'arn:aws:iam::453898385921:role/gm-2401231408-kube-system-kms-provider'
INFO: Created role 'gm-2401231408-kube-system-kube-controller-manager' with ARN 'arn:aws:iam::453898385921:role/gm-2401231408-kube-system-kube-controller-manager'
INFO: Created role 'gm-2401231408-openshift-image-registry-installer-cloud-credentia' with ARN 'arn:aws:iam::453898385921:role/gm-2401231408-openshift-image-registry-installer-cloud-credentia'
INFO: Created role 'gm-2401231408-openshift-ingress-operator-cloud-credentials' with ARN 'arn:aws:iam::453898385921:role/gm-2401231408-openshift-ingress-operator-cloud-credentials'
INFO: Created role 'gm-2401231408-openshift-cluster-csi-drivers-ebs-cloud-credential' with ARN 'arn:aws:iam::453898385921:role/gm-2401231408-openshift-cluster-csi-drivers-ebs-cloud-credential'
Creating ROSA HCP cluster 
 
INFO: Creating cluster 'gm-2401231408'
INFO: To view a list of clusters and their status, run 'rosa list clusters'
INFO: Cluster 'gm-2401231408' has been created.
INFO: Once the cluster is installed you will need to add an Identity Provider before you can login into the cluster. See 'rosa create idp --help' for more information.

Name:                       gm-2401231408
ID:                         28umplsdmr7mjidae46dusurq8ttvnde
External ID:                c93d89a3-7b94-4d08-b079-1befc7e0ce40
Control Plane:              ROSA Service Hosted
OpenShift Version:          4.14.8
Channel Group:              stable
DNS:                        Not ready
AWS Account:                453898385921
AWS Billing Account:        453898385921
API URL:                    
Console URL:                
Region:                     us-east-2
Availability:
 - Control Plane:           MultiAZ
 - Data Plane:              SingleAZ
Nodes:
 - Compute (desired):       2
 - Compute (current):       0
Network:
 - Type:                    OVNKubernetes
 - Service CIDR:            172.30.0.0/16
 - Machine CIDR:            10.0.0.0/16
 - Pod CIDR:                10.128.0.0/14
 - Host Prefix:             /23
 - Subnets:                 subnet-0782ef5a5e376375e
EC2 Metadata Http Tokens:   optional
STS Role ARN:               arn:aws:iam::453898385921:role/gm-2401231408-HCP-ROSA-Installer-Role
Support Role ARN:           arn:aws:iam::453898385921:role/gm-2401231408-HCP-ROSA-Support-Role
Instance IAM Roles:
 - Worker:                  arn:aws:iam::453898385921:role/gm-2401231408-HCP-ROSA-Worker-Role
Operator IAM Roles:
 - arn:aws:iam::453898385921:role/gm-2401231408-kube-system-control-plane-operator
 - arn:aws:iam::453898385921:role/gm-2401231408-kube-system-kms-provider
 - arn:aws:iam::453898385921:role/gm-2401231408-kube-system-kube-controller-manager
 - arn:aws:iam::453898385921:role/gm-2401231408-openshift-cluster-csi-drivers-ebs-cloud-credential
 - arn:aws:iam::453898385921:role/gm-2401231408-openshift-cloud-network-config-controller-cloud-cr
 - arn:aws:iam::453898385921:role/gm-2401231408-openshift-image-registry-installer-cloud-credentia
 - arn:aws:iam::453898385921:role/gm-2401231408-openshift-ingress-operator-cloud-credentials
 - arn:aws:iam::453898385921:role/gm-2401231408-kube-system-capa-controller-manager
Managed Policies:           Yes
State:                      waiting (Waiting for user action)
Private:                    Yes
Created:                    Jan 23 2024 13:10:52 UTC
User Workload Monitoring:   Enabled
Details Page:               https://console.redhat.com/openshift/details/s/2bMCEn2bbAQm0bTVQsCMDtsUYBQ
OIDC Endpoint URL:          https://oidc.op1.openshiftapps.com/28umpf9dfhfkq1bl5mbtp6e5j6unh13k (Managed)
Audit Log Forwarding:       Disabled

INFO: Preparing to create operator roles.
INFO: Cluster 'gm-2401231408' is using reusable OIDC Config and operator roles already exist.
INFO: Preparing to create OIDC Provider.
INFO: Creating OIDC provider using 'arn:aws:iam::453898385921:user/open-environment-t2r78-admin'
INFO: Created OIDC provider with ARN 'arn:aws:iam::453898385921:oidc-provider/oidc.op1.openshiftapps.com/28umpf9dfhfkq1bl5mbtp6e5j6unh13k'
INFO: To determine when your cluster is Ready, run 'rosa describe cluster -c gm-2401231408'.
INFO: To watch your cluster installation logs, run 'rosa logs install -c gm-2401231408 --watch'.
Appending rosa installation logs to /home/gmollo/tools/cluster/svil/rosa-hcp-fast-deploy/gm-2401231408.log 
INFO: Cluster 'gm-2401231408' is in waiting state waiting for installation to begin. Logs will show up within 5 minutes
0001-01-01 00:00:00 +0000 UTC hostedclusters gm-2401231408 Version 
2024-01-23 13:14:12 +0000 UTC hostedclusters gm-2401231408 failed to get clusterVersion: HostedControlPlane.hypershift.openshift.io "gm-2401231408" not found
2024-01-23 13:14:12 +0000 UTC hostedclusters gm-2401231408 The hosted control plane is not found
2024-01-23 13:14:12 +0000 UTC hostedclusters gm-2401231408 failed to get clusterVersion: HostedControlPlane.hypershift.openshift.io "gm-2401231408" not found
2024-01-23 13:14:12 +0000 UTC hostedclusters gm-2401231408 failed to get clusterVersion: HostedControlPlane.hypershift.openshift.io "gm-2401231408" not found
2024-01-23 13:14:12 +0000 UTC hostedclusters gm-2401231408 failed to get clusterVersion: HostedControlPlane.hypershift.openshift.io "gm-2401231408" not found
2024-01-23 13:14:12 +0000 UTC hostedclusters gm-2401231408 The hosted control plane is not found
2024-01-23 13:14:12 +0000 UTC hostedclusters gm-2401231408 The hosted control plane is not found
2024-01-23 13:14:12 +0000 UTC hostedclusters gm-2401231408 The hosted control plane is not found
2024-01-23 13:14:12 +0000 UTC hostedclusters gm-2401231408 failed to get clusterVersion: HostedControlPlane.hypershift.openshift.io "gm-2401231408" not found
2024-01-23 13:14:12 +0000 UTC hostedclusters gm-2401231408 Waiting for hosted control plane to be healthy
2024-01-23 13:14:12 +0000 UTC hostedclusters gm-2401231408 The hosted control plane is not found
2024-01-23 13:14:12 +0000 UTC hostedclusters gm-2401231408 The hosted control plane is not found
2024-01-23 13:14:12 +0000 UTC hostedclusters gm-2401231408 The hosted control plane is not found
2024-01-23 13:14:12 +0000 UTC hostedclusters gm-2401231408 Ignition server deployment not found
2024-01-23 13:14:12 +0000 UTC hostedclusters gm-2401231408 Configuration passes validation
2024-01-23 13:14:12 +0000 UTC hostedclusters gm-2401231408 HostedCluster is supported by operator configuration
2024-01-23 13:14:12 +0000 UTC hostedclusters gm-2401231408 Release image is valid
2024-01-23 13:14:12 +0000 UTC hostedclusters gm-2401231408 ValidAWSIdentityProvider StatusUnknown
2024-01-23 13:14:12 +0000 UTC hostedclusters gm-2401231408 Reconciliation active on resource
2024-01-23 13:14:12 +0000 UTC hostedclusters gm-2401231408 failed to get referenced secret ocm-production-28umplsdmr7mjidae46dusurq8ttvnde/cluster-api-cert: Secret "cluster-api-cert" not found
2024-01-23 13:14:12 +0000 UTC hostedclusters gm-2401231408 HostedCluster is at expected version
2024-01-23 13:14:12 +0000 UTC hostedclusters gm-2401231408 Condition not found in the CVO.
2024-01-23 13:14:12 +0000 UTC hostedclusters gm-2401231408 Condition not found in the CVO.
2024-01-23 13:14:12 +0000 UTC hostedclusters gm-2401231408 Reconciliation active on resource
2024-01-23 13:14:12 +0000 UTC hostedclusters gm-2401231408 Waiting for hosted control plane kubeconfig to be created
2024-01-23 13:14:12 +0000 UTC hostedclusters gm-2401231408 External DNS is not configured
2024-01-23 13:14:12 +0000 UTC hostedclusters gm-2401231408 HostedCluster is supported by operator configuration
2024-01-23 13:14:12 +0000 UTC hostedclusters gm-2401231408 Condition not found in the CVO.
2024-01-23 13:14:12 +0000 UTC hostedclusters gm-2401231408 Condition not found in the CVO.
2024-01-23 13:14:12 +0000 UTC hostedclusters gm-2401231408 Configuration passes validation
2024-01-23 13:14:12 +0000 UTC hostedclusters gm-2401231408 Ignition server deployment not found
2024-01-23 13:14:12 +0000 UTC hostedclusters gm-2401231408 Condition not found in the CVO.
2024-01-23 13:16:05 +0000 UTC hostedclusters gm-2401231408 OIDC configuration is valid
2024-01-23 13:16:05 +0000 UTC hostedclusters gm-2401231408 Reconciliation completed successfully
2024-01-23 13:16:10 +0000 UTC hostedclusters gm-2401231408 WebIdentityErr
2024-01-23 13:16:11 +0000 UTC hostedclusters gm-2401231408 [capi-provider deployment has 1 unavailable replicas, cluster-api deployment has 1 unavailable replicas, control-plane-operator deployment has 1 unavailable replicas]
2024-01-23 13:16:11 +0000 UTC hostedclusters gm-2401231408 All is well
2024-01-23 13:16:11 +0000 UTC hostedclusters gm-2401231408 Configuration passes validation
2024-01-23 13:16:11 +0000 UTC hostedclusters gm-2401231408 AWS KMS is not configured
2024-01-23 13:16:11 +0000 UTC hostedclusters gm-2401231408 Waiting for etcd to reach quorum
2024-01-23 13:16:11 +0000 UTC hostedclusters gm-2401231408 Kube APIServer deployment not found
2024-01-23 13:16:14 +0000 UTC hostedclusters gm-2401231408 All is well
2024-01-23 13:17:05 +0000 UTC hostedclusters gm-2401231408 EtcdAvailable QuorumAvailable
2024-01-23 13:18:09 +0000 UTC hostedclusters gm-2401231408 Kube APIServer deployment is available
2024-01-23 13:18:10 +0000 UTC hostedclusters gm-2401231408 The hosted control plane is available
INFO: Cluster 'gm-2401231408' is now ready

Name:                       gm-2401231408
ID:                         28umplsdmr7mjidae46dusurq8ttvnde
External ID:                c93d89a3-7b94-4d08-b079-1befc7e0ce40
Control Plane:              ROSA Service Hosted
OpenShift Version:          4.14.8
Channel Group:              stable
DNS:                        gm-2401231408.qm7m.p3.openshiftapps.com
AWS Account:                453898385921
AWS Billing Account:        453898385921
API URL:                    https://api.gm-2401231408.qm7m.p3.openshiftapps.com:443
Console URL:                
Region:                     us-east-2
Availability:
 - Control Plane:           MultiAZ
 - Data Plane:              SingleAZ
Nodes:
 - Compute (desired):       2
 - Compute (current):       0
Network:
 - Type:                    OVNKubernetes
 - Service CIDR:            172.30.0.0/16
 - Machine CIDR:            10.0.0.0/16
 - Pod CIDR:                10.128.0.0/14
 - Host Prefix:             /23
 - Subnets:                 subnet-0782ef5a5e376375e
EC2 Metadata Http Tokens:   optional
STS Role ARN:               arn:aws:iam::453898385921:role/gm-2401231408-HCP-ROSA-Installer-Role
Support Role ARN:           arn:aws:iam::453898385921:role/gm-2401231408-HCP-ROSA-Support-Role
Instance IAM Roles:
 - Worker:                  arn:aws:iam::453898385921:role/gm-2401231408-HCP-ROSA-Worker-Role
Operator IAM Roles:
 - arn:aws:iam::453898385921:role/gm-2401231408-kube-system-control-plane-operator
 - arn:aws:iam::453898385921:role/gm-2401231408-kube-system-kms-provider
 - arn:aws:iam::453898385921:role/gm-2401231408-kube-system-kube-controller-manager
 - arn:aws:iam::453898385921:role/gm-2401231408-openshift-cluster-csi-drivers-ebs-cloud-credential
 - arn:aws:iam::453898385921:role/gm-2401231408-openshift-cloud-network-config-controller-cloud-cr
 - arn:aws:iam::453898385921:role/gm-2401231408-openshift-image-registry-installer-cloud-credentia
 - arn:aws:iam::453898385921:role/gm-2401231408-openshift-ingress-operator-cloud-credentials
 - arn:aws:iam::453898385921:role/gm-2401231408-kube-system-capa-controller-manager
Managed Policies:           Yes
State:                      ready 
Private:                    Yes
Created:                    Jan 23 2024 13:10:52 UTC
User Workload Monitoring:   Enabled
Details Page:               https://console.redhat.com/openshift/details/s/2bMCEn2bbAQm0bTVQsCMDtsUYBQ
OIDC Endpoint URL:          https://oidc.op1.openshiftapps.com/28umpf9dfhfkq1bl5mbtp6e5j6unh13k (Managed)
Audit Log Forwarding:       Disabled
Failed Inflight Checks:
	ID:                 fcc04451-cb74-42ae-a4f9-1c439797d849
	Last run:           Jan 23 2024 13:13:51 UTC
	Invalid configurations on subnet 'subnet-0782ef5a5e376375e' have been identified: 
		Details for 'Egress URL access issues':
			- cart-rhcos-ci.s3.amazonaws.com:443

	Please run `rosa verify network -c 28umplsdmr7mjidae46dusurq8ttvnde` after adjusting the cluster's network configuration to remove the warning
Creating the cluster-admin user
INFO: Admin account has been added to cluster 'gm-2401231408'.
INFO: Please securely store this generated password. If you lose this password you can delete and recreate the cluster admin user.
INFO: To login, run the following command:

   oc login https://api.gm-2401231408.qm7m.p3.openshiftapps.com:443 --username cluster-admin --password MGCwq-CbKFb-HrrHn-TsxjH

INFO: It may take several minutes for this access to become active.
#
[1;32mDone!!! [00;00m
[1;32mCluster  gm-2401231408  has been installed and is now up and running[00;00m
[1;32mPlease allow a few minutes before to login, for additional information check the /home/gmollo/tools/cluster/svil/rosa-hcp-fast-deploy/gm-2401231408.log file[00;00m
 
 
 
